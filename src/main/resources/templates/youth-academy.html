<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Youth Academy - Scouting Report</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .glass {
        background: rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.08);
      }
      .scouting-card {
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.05) 0%,
          rgba(255, 255, 255, 0.01) 100%
        );
      }
      .scouting-card:hover {
        transform: translateY(-8px);
        border-color: rgba(255, 255, 255, 0.3);
        background: rgba(255, 255, 255, 0.07);
      }
      .potential-bar {
        height: 2px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 4px;
        overflow: hidden;
      }
      .level-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 4px;
      }
    </style>
  </head>
  <body class="bg-slate-950 text-slate-100 font-sans min-h-screen p-6">
    <div class="container mx-auto max-w-6xl">
      <div
        class="glass mb-10 p-8 rounded-[2rem] flex justify-between items-center border-white/10"
      >
        <div>
          <h2
            class="text-[10px] font-black uppercase tracking-[0.3em] text-slate-500 mb-2"
          >
            Infrastruktura Klubowa
          </h2>
          <div class="flex items-center gap-6">
            <h1 class="text-4xl font-black uppercase tracking-tighter italic">
              Akademia
            </h1>
            <div
              class="flex items-center gap-3 bg-white/5 px-4 py-2 rounded-full border border-white/5"
            >
              <span class="text-[10px] font-bold text-slate-400 uppercase"
                >LVL <span th:text="${team.youthLevel}">1</span></span
              >
              <div class="flex gap-1.5">
                <span
                  th:each="i : ${#numbers.sequence(1, 5)}"
                  th:classappend="${i <= team.youthLevel ? 'bg-white shadow-[0_0_8px_rgba(255,255,255,0.5)]' : 'bg-slate-800'}"
                  class="level-dot"
                ></span>
              </div>
            </div>
          </div>
          <p
            class="text-slate-500 text-[10px] mt-3 font-bold uppercase tracking-widest"
          >
            Precyzja danych:
            <span class="text-white" th:text="${team.youthLevel * 20 + '%'}"
              >20%</span
            >
          </p>
        </div>

        <div class="flex items-center gap-6">
          <div th:if="${team.youthLevel < 5}" class="text-right">
            <form th:action="@{/youth/upgrade}" method="post">
              <button
                type="submit"
                class="group relative overflow-hidden bg-white text-black px-8 py-4 rounded-2xl font-black text-xs uppercase transition-all hover:scale-105 active:scale-95 shadow-2xl"
              >
                Rozwiń Akademię
                <p
                  class="text-[8px] opacity-60"
                  th:text="${#numbers.formatDecimal(team.getUpgradeCost(), 0, 'WHITESPACE', 0, 'POINT')} + ' €'"
                ></p>
              </button>
            </form>
          </div>
          <div class="h-12 w-[1px] bg-white/10"></div>
          <div class="text-right">
            <p
              class="text-[9px] text-slate-500 font-black uppercase tracking-widest mb-1"
            >
              Dostępne Środki
            </p>
            <p
              class="text-2xl font-mono font-light text-white"
              th:text="${#numbers.formatDecimal(team.budget, 0, 'WHITESPACE', 0, 'POINT') + ' €'}"
            >
              0
            </p>
          </div>
          <a
            href="/"
            class="bg-slate-900 hover:bg-slate-800 text-white w-12 h-12 flex items-center justify-center rounded-2xl border border-white/10 transition-all"
          >
            ✕
          </a>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div
          th:each="y : ${talents}"
          class="scouting-card p-8 rounded-[2.5rem] border border-white/5 flex flex-col relative overflow-hidden group"
        >
          <div class="flex justify-between items-start mb-8 relative z-10">
            <div>
              <span
                class="text-[10px] font-bold text-slate-500 tracking-[0.2em] uppercase mb-1 block"
                >Rocznik 2009</span
              >
              <h2
                class="text-2xl font-light text-white leading-none uppercase tracking-tight"
              >
                <span class="font-black block" th:text="${y.firstName}"
                  >IMIE</span
                >
                <span th:text="${y.lastName}">NAZWISKO</span>
              </h2>
            </div>
            <div
              class="bg-white text-black w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-2xl"
            >
              <span class="text-[8px] font-black opacity-50">OVR</span>
              <span class="text-xl font-black" th:text="${y.overall}">50</span>
            </div>
          </div>

          <div
            class="bg-white/[0.03] p-6 rounded-[2rem] border border-white/5 mb-8"
          >
            <p
              class="text-[9px] text-slate-500 font-bold uppercase mb-4 tracking-[0.2em] text-center"
            >
              Prognoza Rozwoju
            </p>

            <div class="flex justify-center items-center gap-3">
              <span
                class="text-3xl font-light text-white tracking-tighter"
                th:with="error=${(6 - team.youthLevel) * 3}"
                th:text="${(y.potential - error) + ' — ' + (y.potential + error)}"
              >
                70 — 90
              </span>
            </div>

            <div class="potential-bar mt-6">
              <div
                class="h-full bg-white opacity-40"
                th:style="'width: ' + ${y.potential} + '%'"
              ></div>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4 mb-8">
            <div
              class="bg-white/5 p-3 rounded-2xl text-center border border-white/5"
            >
              <p class="text-[8px] text-slate-500 font-bold uppercase mb-1">
                Atak
              </p>
              <p class="font-mono text-sm" th:text="${y.offensiveStats}">0</p>
            </div>
            <div
              class="bg-white/5 p-3 rounded-2xl text-center border border-white/5"
            >
              <p class="text-[8px] text-slate-500 font-bold uppercase mb-1">
                Obrona
              </p>
              <p class="font-mono text-sm" th:text="${y.deffensiveStats}">0</p>
            </div>
          </div>

          <div class="mt-auto pt-6 border-t border-white/5 flex justify-center">
            <form
              th:action="@{'/youth/sign/' + ${y.id}}"
              method="post"
              class="w-full"
            >
              <button
                type="submit"
                class="w-full bg-white hover:bg-slate-200 text-black py-4 rounded-2xl font-black text-[11px] uppercase transition-all tracking-widest shadow-lg"
              >
                Podpisz Kontrakt
              </button>
            </form>
          </div>
        </div>
      </div>

      <div
        th:if="${talents == null || talents.empty}"
        class="py-32 text-center"
      >
        <div class="w-16 h-[1px] bg-white/20 mx-auto mb-8"></div>
        <p class="text-xs font-bold text-slate-500 uppercase tracking-[0.5em]">
          System skautingowy w trakcie analizy
        </p>
        <p class="text-[10px] text-slate-600 mt-2 uppercase italic">
          Nowe raporty zostaną dostarczone w przyszłym miesiącu
        </p>
      </div>
    </div>
  </body>
</html>
